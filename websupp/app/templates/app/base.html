{% load static %}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <title>Th·ª±c ph·∫©m b·ªï sung</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 dark:bg-black text-gray-900 dark:text-white scroll-smooth">


<div class="bg-white dark:bg-gray-900 text-black dark:text-white px-8 py-4 flex justify-end items-center space-x-4 shadow">
    {% if user.is_authenticated %}
        <span>Xin ch√†o, {{ user.username }}</span>
        <a href="{% url 'logout' %}" class="text-sm text-red-500">ƒêƒÉng xu·∫•t</a>
    {% else %}
        <a href="{% url 'login' %}" class="text-sm text-blue-500">ƒêƒÉng nh·∫≠p</a>
        <a href="{% url 'register' %}" class="text-sm text-blue-500">ƒêƒÉng k√Ω</a>
    {% endif %}
</div>


<nav class="bg-black bg-opacity-70 px-8 py-4 flex justify-between items-center">
    <!-- Logo tr√°i -->
    <a href="{% url 'home' %}" class="text-xl font-bold text-red-500">Supplements</a>

    <!-- Menu ph·∫£i: Shop, k√≠nh l√∫p, gi·ªè h√†ng -->
    <div class="flex items-center space-x-6">
        <a href="{% url 'product_list' %}" class="hover:text-red-400 font-semibold">Shop</a>

        <!-- K√≠nh l√∫p -->
        <div class="relative">
            <button id="toggleSearch" type="button" aria-label="Toggle search">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" 
                     viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" 
                          d="M21 21l-4.35-4.35M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16z" />
                </svg>
            </button>
            <form id="searchForm" action="{% url 'search' %}" method="get" 
                  class="absolute right-0 top-8 hidden bg-white text-black p-2 rounded shadow z-50">
                <input type="text" name="q" placeholder="T√¨m ki·∫øm..." 
                       class="px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-red-500" />
            </form>
        </div>
        <a href="#"
           class="flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-semibold shadow transition text-base">
            <!-- icon chat -->
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24"
                 stroke="currentColor">
                <path d="M8 10h.01M12 10h.01M16 10h.01M21 12c0 4-4.03 7-9 7-1.11 0-2.18-.13-3.17-.36A1.99 1.99 0 015 19l-3 1 1-3a2 2 0 01.36-2.17C3.13 14.18 3 13.11 3 12c0-5 5.03-9 9-9s9 4 9 9z"
                      stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            T∆∞ v·∫•n cho t√¥i
        </a>



        <!-- Gi·ªè h√†ng -->
        {% if user.is_authenticated %}
            <a href="{% url 'my_orders' %}" class="text-xl hover:text-green-400" aria-label="Gi·ªè h√†ng">üõí</a>
        {% endif %}
    </div>
</nav>


<!-- N·ªôi dung trang -->
<main class="p-6 bg-white dark:bg-black text-black dark:text-white min-h-[60vh]">
    {% block content %}{% endblock %}
</main>


<!-- Script toggle t√¨m ki·∫øm -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const toggleBtn = document.getElementById("toggleSearch");
        const searchForm = document.getElementById("searchForm");

        toggleBtn.addEventListener("click", function (e) {
            e.stopPropagation();
            searchForm.classList.toggle("hidden");
        });
<script>
    document.addEventListener("click", function (e) {
        if (!searchForm.contains(e.target)) {
            searchForm.classList.add("hidden");
        }
    });
</script>

<!-- Footer -->
<footer class="bg-gray-200 dark:bg-gray-800 text-center text-sm py-4 mt-8">
  ¬© 2025 Th·ª±c ph·∫©m b·ªï sung Created By GROUP AIDS. All rights reserved.
</footer>

<!-- Thanh c√¥ng c·ª• g√≥c d∆∞·ªõi m√†n h√¨nh -->
<nav class="fixed bottom-4 right-4 bg-white dark:bg-gray-900 shadow-lg rounded-lg px-4 py-2 flex space-x-6 z-50">
  <a href="{% url 'home' %}" class="text-gray-800 dark:text-gray-200 font-semibold hover:text-red-600">Home</a>
  <a href="{% url 'blog' %}" class="text-gray-800 dark:text-gray-200 font-semibold hover:text-red-600">Blog</a>
</nav>

</body>
</html>
